---
title: Apache Dubbo速览
categories: Apache
tags: dubbo
date: 2019-12-23 22:05:45
---
# Dubbo简介
Apache Dubbo是一款高性能的Java RPC框架。其前身是阿里巴巴公司开源的一个高性能、轻量级的开源Java RPC框架，可以和Spring框架无缝集成。
## 什么是RPC
RPC全称为remote procedure call，即远程过程调用。比如两台服务器A和B，A服务器上部署一个应用，B服务器上部署一个应用，A服务器上的应用想调用B服务器上的应用提供的方法，由于两个应用不在一个内存空间，不能直接调用，所以需要通过网络来表达调用的语义和传达调用的数据。
需要注意的是RPC并不是一个具体的技术，而是指整个网络远程调用过程。
RPC是一个泛化的概念，严格来说一切远程过程调用手段都属于RPC范畴。各种开发语言都有自己的RPC框架。Java中的RPC框架比较多，广泛使用的有RMI、Hessian、Dubbo等。
Dubbo官网地址：http://dubbo.apache.org
Dubbo提供了三大核心能力：面向接口的远程方法调用，智能容错和负载均衡，以及服务自动注册和发现。
# Dubbo架构
Dubbo架构图（Dubbo官方提供）如下：
![2019-12-23_22-12-47](https://ae01.alicdn.com/kf/Hbd32b26df9bd461dbbf89ca28b946aefe.png)
节点角色说明：
节点 | 角色名称 
------------ | ------------- 
Provider | 暴露服务的服务提供方
Consumer | 调用远程服务的服务消费方
Registry | 服务注册与发现的注册中心
Monitor  | 统计服务的调用次数和调用时间的监控中心
Container | 服务运行容器
虚线都是异步访问，实线都是同步访问
蓝色虚线:在启动时完成的功能红色虚线(实线)都是程序运行过程中执行的功能
调用关系说明:
0：服务容器负责启动，加载，运行服务提供者。
1：服务提供者在启动时，向注册中心注册自己提供的服务。
2：服务消费者在启动时，向注册中心订阅自己所需的服务。
3：注册中心返回服务提供者地址列表给消费者，如果有变更，注册中心将基于长连接推送变更数据给消费者。
4：服务消费者，从提供者地址列表中，基于软负载均衡算法，选一台提供者进行调用，如果调用失败，再选另一台调用。
5：服务消费者和提供者，在内存中累计调用次数和调用时间，定时每分钟发送一次统计数据到监控中心。

